# Project Structure

## Overview

```
n8n-unifi-access/
├── credentials/              # API credential definitions
│   └── UnifiAccessApi.credentials.ts
├── nodes/                    # Node implementations
│   └── UnifiAccess/
│       ├── UnifiAccess.node.ts      # Main node logic
│       ├── GenericFunctions.ts      # API helper functions
│       └── unifi.svg                # Node icon
├── docs/                     # Documentation
│   ├── INSTALLATION.md       # Installation guide
│   ├── USAGE.md              # Usage guide and examples
│   ├── API.md                # API reference
│   └── DEVELOPMENT.md        # Development guide
├── examples/                 # Example workflows
│   ├── google-forms-create-users.json
│   └── google-forms-create-visitor.json
├── dist/                     # Build output (generated)
│   ├── credentials/
│   ├── nodes/
│   └── UnifiAccess/
├── node_modules/             # Dependencies (generated)
├── .github/                  # GitHub configuration
│   ├── copilot-instructions.md
│   └── workflows/
├── package.json              # Package configuration
├── tsconfig.json             # TypeScript configuration
├── .eslintrc.js              # ESLint configuration
├── .prettierrc.json          # Prettier configuration
├── .gitignore                # Git ignore rules
├── .env.example              # Environment variables template
├── docker-compose.yml        # Docker development setup
├── index.js                  # Package entry point
├── LICENSE                   # MIT license
├── README.md                 # Main documentation
├── CHANGELOG.md              # Version history
├── CONTRIBUTING.md           # Contribution guidelines
└── QUICK_REFERENCE.md        # Quick reference guide
```

## Key Files Explained

### Source Code

- **credentials/UnifiAccessApi.credentials.ts**
  - Defines credential type for UniFi Access API
  - Handles authentication parameters
  - Implements credential testing

- **nodes/UnifiAccess/UnifiAccess.node.ts**
  - Main node implementation
  - Defines operations (Create User, Create Visitor, etc.)
  - Implements execution logic
  - Handles parameter validation

- **nodes/UnifiAccess/GenericFunctions.ts**
  - API helper functions
  - Authentication handling
  - HTTP request wrapper
  - Error handling utilities

- **nodes/UnifiAccess/unifi.svg**
  - Node icon displayed in n8n UI

### Configuration

- **package.json**
  - npm package metadata
  - Dependencies and scripts
  - n8n node registration

- **tsconfig.json**
  - TypeScript compiler options
  - Module resolution
  - Output directory

- **.eslintrc.js**
  - Code linting rules
  - TypeScript ESLint configuration
  - n8n-specific rules

- **.prettierrc.json**
  - Code formatting rules
  - Consistent style enforcement

### Documentation

- **README.md**
  - Project overview
  - Features and capabilities
  - Quick start guide
  - Installation instructions

- **docs/INSTALLATION.md**
  - Detailed installation steps
  - Multiple installation methods
  - Configuration guide
  - Troubleshooting

- **docs/USAGE.md**
  - Operation details
  - Workflow examples
  - Best practices
  - Field references

- **docs/API.md**
  - UniFi Access API endpoints
  - Request/response formats
  - Error codes
  - Rate limiting

- **docs/DEVELOPMENT.md**
  - Development setup
  - Code structure
  - Testing guide
  - Publishing process

- **QUICK_REFERENCE.md**
  - Quick lookup guide
  - Common operations
  - Field references
  - Troubleshooting tips

### Development

- **docker-compose.yml**
  - Local n8n instance
  - Auto-mounts custom node
  - Development configuration

- **.env.example**
  - Environment variable template
  - Configuration examples

- **examples/**
  - Ready-to-import workflows
  - Google Forms integrations
  - Best practice examples

### Build Output

- **dist/**
  - Compiled JavaScript
  - Type declarations
  - Copied assets
  - Generated by `npm run build`

## File Organization Principles

### Separation of Concerns
- Credentials separate from node logic
- API functions separate from UI logic
- Documentation separate from code

### n8n Conventions
- `.node.ts` suffix for nodes
- `.credentials.ts` suffix for credentials
- Icon files alongside nodes
- Package.json "n8n" field for registration

### TypeScript Best Practices
- Strict type checking enabled
- Interface definitions from n8n-workflow
- Type-safe API requests
- Proper error handling

### Documentation Strategy
- README for overview and quick start
- Separate guides for different audiences
- Examples for common use cases
- API reference for developers

## Build Process

1. **TypeScript Compilation**
   - `tsc` compiles `.ts` to `.js`
   - Generates `.d.ts` type declarations
   - Outputs to `dist/` directory

2. **Asset Copying**
   - `copyfiles` copies SVG icons
   - Preserves directory structure
   - Includes in build output

3. **Package Preparation**
   - `dist/` directory is published
   - Source files excluded from package
   - Only built files in npm package

## Development Workflow

1. Edit source files in `credentials/` or `nodes/`
2. Run `npm run build` or `npm run dev` (watch mode)
3. Test in n8n (Docker or local)
4. Run `npm run lint` to check code quality
5. Update documentation as needed
6. Commit changes

## Deployment

1. Build: `npm run build`
2. Lint: `npm run lint`
3. Test: Manual testing in n8n
4. Version: Update `package.json` and `CHANGELOG.md`
5. Publish: `npm publish`

---

*This structure follows n8n community node best practices and npm package conventions.*
